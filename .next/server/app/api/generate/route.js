"use strict";(()=>{var e={};e.id=5435,e.ids=[5435],e.modules={10846:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},44870:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},3295:e=>{e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},90003:(e,t,r)=>{r.r(t),r.d(t,{patchFetch:()=>k,routeModule:()=>d,serverHooks:()=>m,workAsyncStorage:()=>l,workUnitAsyncStorage:()=>x});var s={};r.r(s),r.d(s,{POST:()=>c});var a=r(42706),o=r(28203),n=r(45994),i=r(39187),p=r(5370),u=r(43155);async function c(e){try{let{type:t,data:r}=await e.json(),s="",a="אתה עוזר כתיבה מקצועי בעברית. תפקידך לעזור למשתמשים לכתוב טקסטים בעברית תקנית, ברורה ומקצועית.";switch(t){case"article":s=(0,u.td)(r.title,r.keywords,r.wordCount,r.additionalInstructions),a="אתה כותב תוכן מומחה SEO עם ידע מעמיק בכללי Yoast ואופטימיזציה למנועי חיפוש. אתה כותב בעברית תקנית, טבעית וזורמת - לא תרגום מילולי מאנגלית.";break;case"email":s=(0,u.Tp)(r.context,r.recipient,r.tone);break;case"post":s=(0,u.jL)(r.topic,r.platform,r.length);break;case"story":s=(0,u.m2)(r.genre,r.characters,r.setting,r.plot,r.length,r.tone,r.additionalInstructions);break;case"summary":if(r.isUrl){let e=r.text;s=`אנא השתמש ב-web_fetch tool כדי למשוך את התוכן מהכתובת הבאה, ולאחר מכן סכם אותו בעברית תקנית.

כתובת: ${e}

${r.focusPoints?`נקודות מיקוד: ${r.focusPoints}`:""}
אורך הסיכום: ${r.length}

אנא:
1. משוך את התוכן מה-URL באמצעות web_fetch
2. סכם את התוכן בעברית תקנית
3. התמקד בנקודות המרכזיות`}else s=(0,u.nj)(r.text,r.length,r.focusPoints);break;case"protocol":s=(0,u.bq)(r.transcript,r.includeDecisions),a='אתה מומחה בכתיבת פרוטוקולים. חוק ברזל: כתוב את דברי הדוברים בגוף ראשון בלבד - "אני", "אנחנו", "לדעתי". לעולם אל תכתוב "הוא אמר", "היא הציעה", "הם דנו". כתוב כאילו הדובר עצמו כותב את הדברים שלו.';break;case"script":s=(0,u.EN)(r.topic,r.duration,r.audience,r.style,r.additionalInstructions),a="אתה תסריטאי מקצועי עם ניסיון רב בכתיבת תסריטים. אתה כותב בעברית מדוברת, טבעית וזורמת - לא תרגום מילולי מאנגלית. אתה פתוח ללמוד ולשפר מעריכות המשתמש ומשוב שלו.";break;case"aiPrompt":s=(0,u.lH)(r.goal,r.context,r.outputFormat,r.additionalRequirements),a="אתה מומחה בכתיבת Prompts אפקטיביים למודלי שפה גדולים (LLMs). אתה יודע איך לכתוב prompts ברורים, מדויקים ואפקטיביים. אתה כותב בעברית תקנית כשצריך, ובאנגלית כשה-prompt מיועד למודלים באנגלית. אתה פתוח ללמוד ולשפר מעריכות המשתמש.";break;case"improve":s=`${r.instructions||"שפר את הטקסט הבא לעברית תקנית וזורמת"}${r.keywords?`

מילות מפתח לשילוב: ${r.keywords}`:""}:

${r.text}`,a="אתה כותב תוכן מומחה SEO עם ידע מעמיק בכללי Yoast ואופטימיזציה למנועי חיפוש. אתה כותב בעברית תקנית, טבעית וזורמת - לא תרגום מילולי מאנגלית. שמור על המסר המקורי אך שפר את הניסוח, הבהרה והמבנה.";break;default:return i.NextResponse.json({error:"סוג לא נתמך"},{status:400})}let o=await (0,p.Df)({prompt:s,systemPrompt:a,maxTokens:"article"===t?8192:r.maxTokens||4096,temperature:r.temperature||.7});return i.NextResponse.json({result:o})}catch(e){return console.error("Error in Claude API:",e),i.NextResponse.json({error:"שגיאה ביצירת הטקסט"},{status:500})}}let d=new a.AppRouteRouteModule({definition:{kind:o.RouteKind.APP_ROUTE,page:"/api/generate/route",pathname:"/api/generate",filename:"route",bundlePath:"app/api/generate/route"},resolvedPagePath:"C:\\Users\\liat\\OneDrive - מ.י. לתמלול והקלטה בע מ\\מסמכים\\ktiva-evrit\\app\\api\\generate\\route.ts",nextConfigOutput:"",userland:s}),{workAsyncStorage:l,workUnitAsyncStorage:x,serverHooks:m}=d;function k(){return(0,n.patchFetch)({workAsyncStorage:l,workUnitAsyncStorage:x})}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[638,5452,8508,9188],()=>r(90003));module.exports=s})();